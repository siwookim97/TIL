# Process & Thread
<hr/>

> **프로세스** : 프로그램을 메모리 상에서 실행중인 작업
>
> **스레드** : 프로세스 안에서 실행되는 여러 흐름 단위


## 프로세스와 쓰레드의 메모리 구조
![img](https://blog.kakaocdn.net/dn/dUSibB/btqAvifqgHF/ui6jiNAp9pXNxZYrI7qnTk/img.png)
프로세스와 쓰레드는 위와같은 메모리 구조를 지닌다
- 메모리 구조는 **Code**, **Data**, **Heap**, **Stack**으로 구성되어 있다
<br><br>
- 스레드는 **Stack** 영역만을 할당 받고 나머지 영역은 서로 공유한다
- 프로세스는 최소 하나의 스레드를 보유한다

> **Code 영역** : 실행할 프로그램의 코드가 저장, CPU에서 명령어를 하나씩 가져와 처리한다
> 
> **Data 영역** : ```전역변수```와 ```정적변수```가 저장된다. 프로그램이 시작될 때 할당, 종료시 소멸
> 
> **BSS 영역** : ```초기화되지 않은 전역변수가 저장```, 초기화 된 것은 Data 영역에 저장
> 
> **Stack 영역** : ```지역변수```, ```매개변수```, ```리턴값```등 ```잠시 사용되었다가 사라지는 데이터```를 저장하는 영역, 함수 호출 시 할당, 반환시 소멸
> 
> **Heap 영역** : ```동적 데이터 영역```이다. 메모리 주소 값에 의해서만 참조되고 사용되는 영역

## 프로세스의 문제점?
```
1. 프로세스 생성에 큰 오버헤드가 있음
2. 프로세스 Context Switching의 비효율성
3. 프로세스 사이에 통신이 어려움 (IPC를 사용해야 한다)
```
<br>

## 스레드의 출현 목적?
```
1. 프로세스보다 크기가 작은 실행단위가 필요해짐
2. 빠른 Context Switching
3. 프로세스 간의 통신 시간, 방법 어려움 해소
4. 프로세스 생성 및 소멸에 따른 오버헤드 감소
```
<br>

## 멀티 프로세스
> 하나의 응용 프로그램을 여러 개의 프로세스로 구성해 각 프로세스가 하나의 작업을 처리하도록 하는 것
#### 장점
```
1. 여러 개의 자식 프로세스 중 하나에 문제가 발생해도 다른 자식 프로세스에 영향이 확산되지 않음
2. 각 프로세스들이 독립적으로 동작하기에 안정적
```
#### 단점
```
1. 각자 독립된 메모리 영역을 갖고 있어, 작업량이 많을 수록 오버헤드가 발생한다
2. 프로세스가 상태를 저장하고 복원하는 과정, Context Switching으로 인한 성능 저하
3. IPC 때문에 프로세스간 통신이 복잡
```
<br>

## 멀티 스레드
> 하나의 응용 프로그램을 여러 개의 스레드로 구성하여 각 스레드가 하나의 작업을 처리하도록 하는 것
#### 장점
```
1. 시스템 자원과 처리 비용 감소
2. Context Switchin이 빠름(Stack 영역만 처리함)
3. 자원 소모가 적음
```
#### 단점
```
1. 하나의 스레드의 오류가 전체 프로세스에 문제가 된다
2. 너무 많은 스레드 사용은 오버헤드 발생
3. 다른 프로세스에서 스레드 제어가 불가하다
```
<br>

![img](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fxzrke%2FbtrhVCve3we%2F0CuAFYeQuczLiEytFD2k51%2Fimg.png)
![img](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fxzrke%2FbtrhVCve3we%2F0CuAFYeQuczLiEytFD2k51%2Fimg.png)
