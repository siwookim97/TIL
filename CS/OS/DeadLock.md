#교착 상태(DeadLocks)
> 자원 요청을 대기중인 다수의 스레드들 때문에 스레드가 **더 이상 자신의 상태를 바꾸지 못하는 상태**

##교착 상태의 4가지 조건
이 **4가지의 조건이 모두** 갖춰져야지만 교착 상태가 발생한다.
```
1. 상호배제(mutual exclusion) : 적어도 한개의 자원이 비공유 모드로 점유되어야 한다.
2. 점유 대기(hold-and-wait) : 스레드는 최소한 하나의 자원을 점유하고 현재 다른 스레드에 의해 점유된 자원을 위해 대기해야 한다.
3. 비선점(no preemption) : 자원들을 선점할 수 없어야 한다. (자원을 뺏을 수 없어야 한다)
4. 순환 대기(circular wait) : 대기하고 있는 스레드의 집합이 원형으로 자원을 대기해야 한다.
```

##교착 상태 Prevention(예방)
4가지의 교착 상태 조건 중 **적어도 하나의 조건을 막으면** 예방이 가능하지 않을까?
> **상호 배제 부정** : 모든 자원을 공유 자원으로 하자! 하지만 현실적으로 불가능 -> **어떤 자원은 공유가 불가하기 때문에**
> 
> **점유 대기 부정** : 스레드가 자원을 요청할 때마다 다른 자원을 보유하지 않도록 보장하자! 하지만 불가능 -> **기아가 발생할 수 있고 자원 이용률이 낮을 수 있다.**
> 
> **비선점 부정** : 자원을 선점할 수 있도록 하자! 하지만 현실적으로 불가능 -> **스레드가 자원을 뺏기면 문제가 발생하고 자원을 회복해야 한다, 교착 상태가 흔하게 발생하는 mutex와 세마포어에는 일반적으로 적용이 불가하다.**
> 
> **순환 대기 부정** : 모든 자원에 전체적인 순서를 부여하여, 순서대로 자원을 요청하도록 요구하도록 하면 순환 대기가 해결된다. (가장 합리적인 해결책이다)

**하지만 교착 상태 예방은 현실적으로 시스템 처리량이나 자원 사용의 효율성을 떨어트리므로 예방보다는 회피(avoidance)로 해결을 하자**

##교착 상태 회피
